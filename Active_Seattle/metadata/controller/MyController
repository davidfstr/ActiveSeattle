{
    "id": "ExtBox1-ext-gen27569",
    "type": "controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "MyController"
    },
    "customConfigs": [],
    "designerId": "3bb10e2e-670f-42fa-ad9e-7c8c7371d7a7",
    "$viewOrder": 0,
    "expanded": true,
    "cn": [
        {
            "id": "ExtBox1-ext-gen35268",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onFirstPageSelectfieldChange",
                "implHandler": "\r\nvar mainNav = selectfield.up('navigationview');\r\nmainNav.push({\r\n    xtype: 'page2',\r\n    title: \"\"\r\n});\r\n\r\nvar page2 = mainNav.child('page2');\r\n\r\nvar textfield = page2.down('#mytextfield');\r\nvar sport = newValue.data.text;\r\nvar str = 'Join a ' + sport + ' game';\r\ntextfield.setLabel(str);\r\n\r\n\r\nvar map = page2.down('map');\r\nif (map === null)\r\nalert('map');\r\n\r\nvar googleMap = map.getMap();\r\n\r\n// Center it in Seattle, baby.\r\nvar seattleLatLng = new google.maps.LatLng(47.600029,-122.319803);\r\ngoogleMap.setCenter(seattleLatLng);\r\n\r\n\r\nfunction each(a, fn, opt_scope) {\r\n    for (var i=0, j=a.length; i < j; ++i) {\r\n        fn.call(opt_scope || window, a[i], i, a);\r\n    }\r\n}\r\n\r\n//var basketballCourtsURL = \"https://data.seattle.gov/resource/82su-5fxf.json?$where=city_feature='Basketball%20Courts'%20OR%20city_feature='Tennis%20Courts'&$select=city_feature,common_name,latitude,longitude\";\r\nvar basketballCourtsURL = \"MyNeighborhoodMapDump.json?$where=city_feature='Basketball%20Courts'%20OR%20city_feature='Tennis%20Courts'&$select=city_feature,common_name,latitude,longitude\";\r\n\r\n\r\n// for now, special case basketball and tennis...\r\nvar matchString = sport === \"Tennis\" ? \"Tennis Courts\" : \"Basketball Courts\";\r\n\r\n\r\nExt.Ajax.request({\r\n    url: basketballCourtsURL,\r\n    method: 'GET',\r\n    success: function(result, request){\r\n        var obj = Ext.decode(result.responseText);\r\n        each(obj.data, function(f) {\r\n            var category = f[8];\r\n            if (category === matchString)\r\n            {\r\n\r\n                var commonName = f[9];\r\n\r\n                var long = f[12];\r\n                var lat = f[13];\r\n\r\n\r\n                var marker = new google.maps.Marker({\r\n                    map: googleMap,\r\n                    position: new google.maps.LatLng(lat, long),\r\n                    title: commonName\r\n                });\r\n\r\n                // TODO: There is some bug - uncaught exception when closing the InfoWindow.  WTF.\r\n\r\n\r\n                google.maps.event.addListener(marker, 'click', function() {\r\n\r\n\r\n                    googleMap.panTo(marker.getPosition());\r\n\r\n                    //var newIcon = MapIconMaker.createMarkerIcon({width: 20, height: 34, primaryColor: \"#0000FF\", cornercolor:\"#0000FF\"});\r\n                    marker.setIcon('http://www.google.com/intl/en_us/mapfiles/ms/icons/green-dot.png');\r\n\r\n                    var textelement2 = page2.down('#textelement2');\r\n\r\n                    var dom = textelement2.label.dom;\r\n                    dom.style.backgroundColor = \"#00ff99\";\r\n                    //textelement2.setStyle(\"background-color: #00ffff; border-width:10px; border-color: #0000ff;\");\r\n\r\n                    //el.applyStyles('background-color: #ff00ff;');\r\n\r\n                    // add click event listener for the marker\r\n                    //var infoWindow = new google.maps.InfoWindow({\r\n                    //    content: '<input type=\"button\" value=\"hello there\" />'\r\n                    //});\r\n\r\n                    //infoWindow.open(map, marker);\r\n                });\r\n            }\r\n        });\r\n    },\r\n    failure: function (result, request) {\r\n        alert('fail');\r\n    }\r\n});\r\n",
                "name": "change",
                "designer|targetType": "Ext.field.Select",
                "designer|controlQuery": "selectfield",
                "designer|userClassName": "onFirstPageSelectfieldChange"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen6109",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onButtonTap",
                "implHandler": "var mainNav = button.up('navigationview');\r\n\r\nmainNav.push({\r\n    xtype: 'page3',\r\n    title: \"\"\r\n});\r\n",
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "page2 button",
                "designer|userClassName": "onButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        }
    ]
}